<!DOCTYPE html>
	<html lang="en">
	<meta charset="UTF-8">
	<title>HeyYou</title>
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
	<link href="/css-styles/style.css" rel="stylesheet">
	
	<style>
	.textSquare {
		padding: 2%;
	}
	th, td {
		border: 1px solid black;
		padding: 5px;
		color: black;
	}
	#t1	{
		background-color: rgb(219, 219, 219);
	}
	p {
		text-indent: 0px;	/*nullifies the text indent in style.css . i realize i should be using <p> and </p> for every line but oh well*/
	}
	#ipsumId {
		margin: auto;
		margin-bottom: 10%;
		width: 50%;
		height: 300px;
		overflow-y: auto;
		background-color: rgb(255, 255, 255);
    }
	[data-theme="dark"] {
		--text-color: white;
	}

	:root {
	  --text-color: black; //set the color to BLACK always. else it gets weird when datatheme is black. instead of becoming invisible it becomes visible cuz the text is white lol.
	}
	</style>
	
	<body>
	<img src="/media/greenKeeper.gif" id="boilerKeeper" alt="bouncing puffle gif" title="Click me!">
	
	<div class="entireBody">
		<div class="onlyHeader">
			<div id="header"></div>
			
			<button id="theme-switcher">night night</button>
			<br>
				
			<div id="languageLabel"><label>language/idioma:
				<select id="lang">
					<option></option>
					<option value="original">original</option>
					<option value="es">spanish</option>
					<option value="en">english</option>
					<option value="secret">club penguin PSA/EPF code</option>
				</select>
			</label></div>
				
			<button id="languageSwitcher">Switch language!/cambiar idioma :)</button>
		</div>
			
		<hr class="solid">
		<div id="index"></div>
		<div id="ipsumId"></div>
		<div id="2ndId"></div>
		
		
		<hr class="solid">
		
		<a id="footer" href="/index">return to homepage</a>
	</div>
	
	<script src="/js/darkbutton.js"></script>
	<script src="/js/pufflescript.js"></script>
	<script src="/js/indexsetter.js"></script>
	<script>
		var headerContentOg = `<h1>fade to black</h1>`;
		var contentOg = `
		<div class="textSquare">
		<p>a thief of hearts</p>
		<p>a thief of my spot</p>
		<p>a piece of paper</p>
		<p>a moment of shame</p>
		<p>why did i just give her that?</p>
		<p>i was better than him</p>
		<p>a better human being than him</p>
		<p>the lack of resolve</p>
		<p>another moment of shame</p>
		<p>a hug, a laugh, they could look at me</p>
		<p>another moment of shame</p>
		<br>
		<p>lack of an answer</p>
		<p>a graphite trail in a desk</p>
		<p>a mark of me on this world</p>
		<p>a rushing feeling of shame</p>
		<p>something building up in my eyes</p>
		<p>unable to speak</p>
		<p>a stutter, a voice crack. full of resolve, lack of shame</p>
		<p>this, is the path i forge</p>
		<p>the road i take</p>
		<p>a ghost... yeah, a ghost. another ghost. i was mentally prepared this time</p>
		<p>a red afterglow trailing in the darkness</p>
		<br>
		<p>completamente, fisicamente, mentalmente, incapaz de</p>
		<p>convertirme en</p>
		<p>algo mas</p>
		<br>
		<p>for a moment</p>
		<p>i was better than them</p>
		</div>`;
		
		var headerContentEs = `<h1>fade to black</h1>`;
		var contentEs = `
		<div class="textSquare">
		<p>un ladrón de sentimientos</p>
		<p>un ladrón de mi lugar</p>
		<p>un pedazo de papel</p>
		<p>um momento de vergüenza</p>
		<p>¿por qué decidí simplemente darle eso?</p>
		<p>yo era mejor que el</p>
		<p>un mejor humano que el</p>
		<p>una falta de voluntad</p>
		<p>otro momento de vergüenza</p>
		<p>un abrazo, una risa, me podían ver</p>
		<p>otro momento de vergüenza</p>
		<br>
		<p>una falta de respuesta</p>
		<p>un resto de grafito en la mesa</p>
		<p>una marca mía en este mundo</p>
		<p>un golpe de vergüenza</p>
		<p>algo en mis ojos</p>
		<p>incapaz de hablar</p>
		<p>una inhabilidad para hablar. lleno de voluntad, falta de vergüenza</p>
		<p>este, es el camino que yo invoco</p>
		<p>el camino que yo tomo</p>
		<p>... y de nuevo. ocurrió de nuevo. pero estaba mentalmente preparado esta vez.</p>
		<p>a red afterglow trailing in the darkness</p>
		<br>
		<p>completamente, fisicamente, mentalmente, incapaz de</p>
		<p>convertirme en</p>
		<p>algo mas</p>
		<br>
		<p>por un momento</p>
		<p>fui mejor que them</p>
		</div>`;
		
		var headerContentEn = `<h1>fade to black</h1>`;
		var contentEn = `
<div class="textSquare">
		<p>a thief of hearts</p>
		<p>a thief of my spot</p>
		<p>a piece of paper</p>
		<p>a moment of shame</p>
		<p>why did i just give her that?</p>
		<p>i was better than him</p>
		<p>a better human being than him</p>
		<p>the lack of resolve</p>
		<p>another moment of shame</p>
		<p>a hug, a laugh, they could look at me</p>
		<p>another moment of shame</p>
		<br>
		<p>lack of an answer</p>
		<p>a graphite trail in a desk</p>
		<p>a mark of me on this world</p>
		<p>a rushing feeling of shame</p>
		<p>something building up in my eyes</p>
		<p>unable to speak</p>
		<p>a stutter, a voice crack. full of resolve, lack of shame</p>
		<p>this, is the path i forge</p>
		<p>the road i take</p>
		<p>a ghost... yeah, a ghost. another ghost. i was mentally prepared this time</p>
		<p>a red afterglow trailing in the darkness</p>
		<br>
		<p>completamente, fisicamente, mentalmente, incapaz de</p>
		<p>convertirme en</p>
		<p>algo mas</p>
		<br>
		<p>for a moment</p>
		<p>i was better than them</p>
		</div>`;
	</script>
	<script> //manually put the langswitcher function, for debuggings sake
	var langSwitcher = document.getElementById("languageSwitcher"); //fetches the button, stores it on langSwitcher
	var storedLocalContent = localStorage.getItem("localContentLang")??'contentOg'; //grabs localContentLang, if it doesnt exist its set to contentOg, stores it in storedLocalContent
		
	//storedLocalContent is set to a string, so i turn that string back into the javascript variable defined in the main html
	if (storedLocalContent === "contentEn"){
		document.getElementById("ipsumId").innerHTML = contentEn;
		document.getElementById("header").innerHTML = headerContentEn;
		fontSizey = "100";
		fontFont = "Times New Roman";
		letterSpacey = "normal"
	}else if (storedLocalContent === "contentEs"){
		document.getElementById("ipsumId").innerHTML = contentEs;
		document.getElementById("header").innerHTML = headerContentEs;
		fontSizey= "100";
		fontFont = "Times New Roman";
		letterSpacey = "normal"
	}else if (storedLocalContent === "contentOg"){
		document.getElementById("ipsumId").innerHTML = contentOg;
		document.getElementById("header").innerHTML = headerContentOg;
		fontSizey= "100";
		fontFont = "Times New Roman";;
		letterSpacey = "normal"
	}else if (storedLocalContent === "contentSpy"){
		document.getElementById("ipsumId").innerHTML = contentOg;
		document.getElementById("header").innerHTML = headerContentOg;
		fontSizey = "180";
		fontFont = "secretFont";
		letterSpacey = "3px";
	}

	document.getElementById("ipsumId").style.fontFamily = fontFont; //sets font
	document.getElementById("ipsumId").style.fontSize = parseInt(fontSizey) + "%"; //makes the fontSizey an integer, adds a %
	document.getElementById("ipsumId").style.letterSpacing = letterSpacey; //changes letters spacing
	document.getElementById("header").style.fontFamily = fontFont; //sets font
	document.getElementById("header").style.fontSize = parseInt(fontSizey) + "%"; //makes the fontSizey an integer, adds a %
	document.getElementById("header").style.letterSpacing = letterSpacey; //changes letters spacing
		
	var onLangSwitch = function() {
		var lang = document.getElementById("lang").value; //lang is equal to the label button, here the languages change freely after the page is loaded and user selects things
		var fontFont;
		if (lang === "original") {
			document.getElementById("ipsumId").innerHTML = contentOg; //contentOg is defined in the html
			document.getElementById("header").innerHTML = headerContentOg; //grabs the header, headerContent is defined in the html
			fontSizey = "100";
			fontFont = "Times New Roman";
			letterSpacey = "normal"
			localStorage.setItem("localContentLang", "contentOg"); //sets to localContentLang the contentOg
		} else if (lang === "es") {
			document.getElementById("ipsumId").innerHTML = contentEs; //contentEs is defined on the html
			document.getElementById("header").innerHTML = headerContentEs; //grabs the header, headerContent is defined in the html
			fontSizey= "100";
			fontFont = "Times New Roman";
			letterSpacey = "normal"
			localStorage.setItem("localContentLang", "contentEs"); //sets to localContentLang the contentEs
		} else if (lang === "en") {
			document.getElementById("ipsumId").innerHTML = contentEn; //content En is defined on the html
			document.getElementById("header").innerHTML = headerContentEn; //grabs the header, headerContent is defined in the html
			fontSizey = "100";
			fontFont = "Times New Roman";
			letterSpacey = "normal"
			localStorage.setItem("localContentLang", "contentEn"); //sets to localContentLang the contentEn
		} else if (lang ==="secret"){
			document.getElementById("ipsumId").innerHTML = contentOg;
			document.getElementById("header").innerHTML = headerContentOg;
			fontSizey = "140";
			fontFont = "secretFont";
			letterSpacey = "3px";
			localStorage.setItem("localContentLang", "contentSpy"); //sets to localContentLang the contentSpy
		}
		document.getElementById("ipsumId").style.fontFamily = fontFont; //sets font
		document.getElementById("ipsumId").style.fontSize = parseInt(fontSizey) + "%"; //makes the fontSizey an integer, adds a %
		document.getElementById("ipsumId").style.letterSpacing = letterSpacey; //changes letters spacing
		document.getElementById("header").style.fontFamily = fontFont; //sets font
		document.getElementById("header").style.fontSize = parseInt(fontSizey) + "%"; //makes the fontSizey an integer, adds a %
		document.getElementById("header").style.letterSpacing = letterSpacey; //changes letters spacing
	};

	langSwitcher.addEventListener("click", onLangSwitch); //runs function when button is clicked
	</script>
	<script src="/js/phiSwitcher.js"></script>
	
	<script>
	var darkSpeed = 5 //this will substract from the rgb value for the background color. this is not used until at the end of the code
    
    var elementIpsumId = document.getElementById("ipsumId"); //store the ipsumId div in here
	var amountScrolled = elementIpsumId.scrollTop; //get how much has been scrolled (pixels)
	
    elementIpsumId.scrollTop = elementIpsumId.scrollHeight; //scroll the ipsumId alll the way to the bottom
    var amountOfUnits = elementIpsumId.scrollHeight/255 //store the total amount of units. they measure 3.6 by default on khan academy when this program was written
    var storedAmountOfTotalUnits = Math.floor(document.getElementById("ipsumId").scrollTop/amountOfUnits); //store the total amount of units. 171 by default on khan academy. idk why i have to fully type out the getElementById thing again
    elementIpsumId.scrollTop = 0; //return to the top
    
    var varForTimer; //create a var to store any given Y pos of the div. or to store the distance from the top of it to its current position. idk
	var changeBgColor = function(amount){
				changingColor = "rgb(" + amount + ", " + amount + ", " + amount +")"
				elementIpsumId.style.backgroundColor = changingColor;
			}

	var mainFunction = function() {
		var amountScrolled = document.getElementById("ipsumId").scrollTop;
		var amountOfUnitsScrolled = Math.floor(amountScrolled/amountOfUnits);
		
		document.getElementById("2ndId").innerHTML = "the usableHeight is " + amountOfUnits + " and the amount that has been scrolled is " + amountScrolled + ". in other words, the amount of " + amountOfUnits + " units that have been scrolled are " + amountOfUnitsScrolled;
		
		for (var i = 0; i < amountOfUnitsScrolled; i++){
			changeBgColor(255 - (255/storedAmountOfTotalUnits)*i - darkSpeed) //i dont fully understand why it has to be 255/171 and not the other way around. 171 is the maximum amount of 3.6 units in the div.
		}
		
	}
	var timer = setInterval(mainFunction, 16);
	</script>
	<script>//grabbed from the internet, this should stop multiple audios from playing?
	document.addEventListener('play', function(e){
    var audios = document.getElementsByTagName('audio');
    for(var i = 0, len = audios.length; i < len;i++){
        if(audios[i] != e.target){
            audios[i].pause();
		}
	}
	}, true);
	</script>
	</body>
</html>